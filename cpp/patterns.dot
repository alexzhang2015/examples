digraph G {
	rankdir="BT"
	node [shape=plaintext];
	{ rank=max Interface }
	edge [fontsize=10 _fontcolor=darkgray]
	// Inheritance
	edge [label=inh arrowhead=onormal];

	// Implementation
	edge [label=imp weight=1000 arrowhead=onormal style=dashed];
	Product -> Interface;
	Factory [label=<Abstract <b>Factory</b>>]
	Sample_factory -> Factory;
	Proxy [label=<<b>Proxy</b>>]
	{ Subject Proxy } -> Common_interface
	Decorator [label=<<b>Decorator</b>>]
	Subject_of_Decorator [label=Subject]
	{ Decorator Subject_of_Decorator} -> Decorator_Interface
	Common_interface [label="Interface\nof subject"]
	Decorator_Interface [label="Interface\nof subject"]
	Factory_of_prototype [label=Factory]
	Interface_of_prototype [label=Interface]
	Prototype -> { Factory_of_prototype Interface_of_prototype}
	Prototype [label=<<b>Prototype</b>>]
	Bridge_interface [label=Interface]
	Bridge -> Bridge_interface
	Observer [label=<<b>Observer</b>>]
	View -> Observer

	Visitor [label=<<b>Visitor</b>>]
	rank = same { Component  Visitor }
	//Component [rank=min]
	Sample_visitor -> Visitor
	Sample_component -> Component

	// Aggregation
	edge [label=agg weight=1 arrowtail=odiamond dir=back style=""]

	edge [label=creates dir="" arrowhead=odiamond]
	Product -> Sample_factory
	Prototype -> Prototype

	// Dependencies
	edge [label=uses weight=1 arrowhead=vee style=dashed dir="" ]

	Component -> Visitor [weight=0]
	Sample_component -> Visitor [label=accepts weight=0 dir=both arrowtail=vee _constraint=false]
	Sample_visitor -> Component [label=extends color=blue fontcolor=blue]
	//{Sample_visitor Sample_component } -> Client_of_Visitor [style=invis]
	edge [label=uses weight=1 dir=back arrowtail=vee ]
	Subject_of_Decorator -> Decorator -> Client_of_Decorator
	{ Subject_of_Decorator } -> Client_of_Decorator
	{ Visitor Component  } -> Client_of_Visitor

	Subject -> Proxy
	Proxy -> Client_of_Proxy
	Model -> Controller [label=manipulates]
	Interface -> Factory
	Interface_of_prototype -> Factory_of_prototype
	Standalone -> Bridge
	Observer -> Model [label=updates]
	edge [color=lightgray fontcolor=lightgray xweight=0  _constraint=false]
	Subject -> Client_of_Proxy [label="no access"]
	Standalone -> Bridge_interface [label="incompatible" constraint=false]
}
